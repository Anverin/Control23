"use strict";(self.webpackChunkControl22=self.webpackChunkControl22||[]).push([[603],{9603:(O,d,i)=>{i.r(d),i.d(d,{ProductsModule:()=>Z});var u=i(6895),c=i(646),a=i(727),t=i(8256),p=i(529),l=i(2340);let g=(()=>{class e{constructor(o){this.http=o,this.product=""}getProduct(o){return this.http.get(l.N.host+`/tea?id=${o}`)}getProducts(o){let r=new p.LE;return o&&(r=r.append("search",o)),this.http.get(l.N.host+"/tea",{params:r})}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(p.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const m=function(e){return["/catalogue",e]};let f=(()=>{class e{constructor(){this.product={id:0,image:"",title:"",price:0,description:""}}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["product-card"]],inputs:{product:"product"},decls:10,vars:6,consts:[[1,"card","h-100"],["alt","tea",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","fw-bold"],[1,"description-container","mb-3"],[1,"card-text","scroll-container","pe-1"],[1,"btn","btn-primary","px-lg-5","px-md-3","px-sm-1","hvr-grow-shadow",3,"routerLink"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"h5",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4)(6,"p",5),t._uU(7),t.qZA()(),t.TgZ(8,"a",6),t._uU(9,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA()()()),2&o&&(t.xp6(1),t.s9C("src",r.product.image,t.LSH),t.xp6(3),t.Oqu(r.product.title),t.xp6(3),t.Oqu(r.product.description),t.xp6(1),t.Q6J("routerLink",t.VKq(4,m,r.product.id)))},dependencies:[c.yS],styles:[".description-container[_ngcontent-%COMP%]{height:200px;position:relative}.scroll-container[_ngcontent-%COMP%]{position:absolute;height:200px;inset:0 0 50px;overflow:auto}"]}),e})();function v(e,n){1&e&&t._UZ(0,"product-card",6),2&e&&t.Q6J("product",n.$implicit)}function b(e,n){1&e&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",9),t._UZ(3,"div",10),t.qZA()()())}const x=function(){return["/order"]},P=function(e){return{product:e}},y=[{path:"",component:(()=>{class e{constructor(o,r,s){this.productService=o,this.router=r,this.activatedRoute=s,this.products=[],this.loading=!0,this.subject="",this.searchResultHeader="",this.subscription=new a.w0}ngOnInit(){this.subscription.add(this.activatedRoute.queryParams.subscribe(o=>{o.search?(this.subject=o.search,this.searchResultHeader='\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "'+this.subject+'"'):(this.subject="",this.searchResultHeader="\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"),this.subscription.add(this.productService.getProducts(o.search).subscribe({next:r=>{this.loading=!1,this.products=r,0==r.length&&(this.searchResultHeader="\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")},error:r=>{this.loading=!1,console.log(r),this.router.navigate(["/"])}}))}))}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(g),t.Y36(c.F0),t.Y36(c.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["catalogue-component"]],decls:7,vars:3,consts:[[1,"container","min-vh-100"],[1,"text-center","fw-bold","p-5"],[1,"items"],[1,"cards","row","row-cols-1","row-cols-sm-2","row-cols-lg-3","g-3"],[3,"product",4,"ngFor","ngForOf"],["class","loader d-flex position-fixed top-0 start-0 w-100 h-100 align-items-center justify-content-center",4,"ngIf"],[3,"product"],[1,"loader","d-flex","position-fixed","top-0","start-0","w-100","h-100","align-items-center","justify-content-center"],[1,"lds-circle","d-inline-block","position-absolute"],[1,"d-inline-block","bg-primary","rounded-5"],[1,"little-circle","d-inline-block","bg-white","rounded-5"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3),t.YNc(5,v,1,1,"product-card",4),t.qZA()()(),t.YNc(6,b,4,0,"div",5)),2&o&&(t.xp6(2),t.Oqu(r.searchResultHeader),t.xp6(3),t.Q6J("ngForOf",r.products),t.xp6(1),t.Q6J("ngIf",r.loading))},dependencies:[u.sg,u.O5,f],styles:[".loader[_ngcontent-%COMP%]{background:rgba(0,0,0,.49)}.lds-circle[_ngcontent-%COMP%]{transform:translateZ(1px)}.lds-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;animation:lds-circle 5s cubic-bezier(0,.2,.8,1) infinite}.little-circle[_ngcontent-%COMP%]{width:14px;height:14px;border:1px solid #1d3367}@keyframes lds-circle{0%,to{animation-timing-function:cubic-bezier(.5,0,1,.5)}0%{transform:rotateY(0)}50%{transform:rotateY(1800deg);animation-timing-function:cubic-bezier(0,.5,.5,1)}to{transform:rotateY(3600deg)}}@media screen and (max-width: 575px){.cards[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.card-item[_ngcontent-%COMP%]{width:318px}}"]}),e})()},{path:":id",component:(()=>{class e{constructor(o,r,s){this.activateRoute=o,this.productService=r,this.router=s,this.subscription=new a.w0,this.product={id:0,image:"",title:"",price:0,description:""}}ngOnInit(){this.activateRoute.params.subscribe(o=>{if(o.id){const r=this.productService.getProduct(+o.id);r?r.subscribe(s=>{this.product=s}):this.router.navigate(["/"])}})}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(c.gz),t.Y36(g),t.Y36(c.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["product"]],decls:12,vars:9,consts:[[1,"container","min-vh-100"],[1,"text-center","fw-bold","p-5"],[1,"card","h-100","align-items-center"],["alt","tea",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-text","text-center"],[1,"card-price","fw-bold","mt-5","mb-3"],[1,"btn","btn-primary","px-lg-5","px-md-3","px-sm-1","hvr-grow-shadow",3,"routerLink","queryParams"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"img",3),t.TgZ(5,"div",4)(6,"p",5),t._uU(7),t.qZA(),t.TgZ(8,"h5",6),t._uU(9),t.qZA(),t.TgZ(10,"a",7),t._uU(11,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()()()),2&o&&(t.xp6(2),t.Oqu(r.product.title),t.xp6(2),t.s9C("src",r.product.image,t.LSH),t.xp6(3),t.Oqu(r.product.description),t.xp6(2),t.hij("\u0426\u0435\u043d\u0430: ",r.product.price," \u0440\u0443\u0431\u043b\u0435\u0439"),t.xp6(1),t.Q6J("routerLink",t.DdM(6,x))("queryParams",t.VKq(7,P,r.product.title)))},dependencies:[c.yS],styles:[".card-img-top[_ngcontent-%COMP%]{max-width:400px}@media screen and (max-width: 420px){.card-img-top[_ngcontent-%COMP%]{max-width:300px}}"]}),e})()}];let h=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(y),c.Bz]}),e})();var w=i(4466);let Z=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,w.m,c.Bz,h,h]}),e})()}}]);